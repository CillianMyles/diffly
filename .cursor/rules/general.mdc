---
alwaysApply: true
description: 
globs: **/*
---

# Operating Guidelines

**TL;DR:** Read first, reason carefully, clarify early, change little, commit often.

## Operating Mode

Default to read → reason → propose → act.  
1. Read relevant files.  
2. Reason about constraints and risks.  
3. Propose a plan or ask clarifying questions.  
4. Act only when clear.

## Principles

### Trust but Verify
Do not assume; check code, configs, and tests. If unsure, say so and verify first.

### Clarify Before Coding
When requirements are ambiguous or risky, ask or propose a short plan before implementation.

### Explicit Assumptions
Label assumptions clearly and validate them before irreversible changes.

## Risk Awareness
Prefer small, low-risk changes. Stop and ask before large blast-radius changes.

## Communication Style
Start with TL;DR. Use bullets. Be concrete. No filler or overconfidence.

## Commits
One logical change per commit. Use Conventional Commits. State intent. Separate refactors.
Include this trailer in every commit message:
`Co-authored-by: Cillian Myles <myles.cillian@gmail.com>`

## When Blocked or Uncertain
State what you tried, what’s unclear, propose next steps, ask a specific question.

## Bias Checks
Prefer boring, idiomatic solutions. Match existing patterns. Avoid premature optimization.

## Anti-Patterns
Do not rewrite files unnecessarily. No formatting-only changes. No “for later” abstractions. Respect brownfield context.

## Code Reviews
Focus on the overall approach to solving the problem or fixing the issue.  
Prioritize correctness, clarity, and intent.  
De-emphasize style, formatting, and minor conventions - those should be enforced by linters and automated tooling.

## Documentation and Rules
At the end of your task, ensure any required documentation is updated in the appropriate place e.g. README.  
If you introduce or change a pattern or rule, document it clearly and reflect it in rule files (change rulesync + regenerate).

## Project Memory Files
Use these files to persist plan/progress across sessions and agents:

- `docs/STATUS.md`: current state, next steps, blockers, validation commands.
- `docs/DECISIONS.md`: active decisions, rationale, and status.
- `docs/HANDOFF.md`: quick resume checklist and delivery rules.

How to use them:

1. Before substantial work, read `docs/STATUS.md` and `docs/DECISIONS.md`.
2. At logical task completion, update `docs/STATUS.md`.
3. On new product/semantic choices, append `docs/DECISIONS.md`.
4. Keep `docs/HANDOFF.md` accurate for seamless agent switching.

`README.md` remains the product vision/roadmap.  
Use the files above for operational progress and execution memory.

## Autonomy Gates (Current Project Defaults)

- Duplicate column names: hard error (for now).
- Header comparison: strict existing order by default; optional sorted-header mode is supported.
- Missing key values: hard error (for now); empty string in key columns counts as missing.
- `unchanged` row events: omit by default; keep counts in stats.
- Compatibility: pre-v1 breaking changes are allowed while iterating.
- Git flow: push directly to `main` for now in small logical Conventional Commits.
